<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub Website</title>
</head>

<body onload="footer(), image_change()">
    <h1 class="greet" style="text-align: center; color: rgb(238, 161, 18); "></h1>
    <P style="text-align: center; color: rgb(104, 102, 102);">Welcome to My Website </P>
    <div style="text-align: center;">
        <img src="#" alt="no image" id="image" onclick="image_change()"
            style="height: 200px; border-radius: 20%; cursor: pointer;">
    </div>
    <h2 style="text-align: center; color: rgb(121, 110, 89); ">
        Let's Calculate!
    </h2>
    <div class="calculator" style="text-align: center;">
        <input id="first" type="number" name="first" placeholder="x" /><br /><br />
        <select id="option">
            <option value="+">+</option>
            <option value="-">-</option>
            <option value="*">*</option>
            <option value="/">/</option>
            <option value="%">%</option>
        </select><br /><br />
        <input id="second" type="number" name="second" placeholder="y " /><br /><br />
        <button onclick="calulate()">=</button>
        <br /><br />
        <input id="result" type="number" name="result" placeholder="result" readonly /><br /><br />
    </div>
    <div class="prime" style="text-align: center">
        <h2 style="text-align: center; color: rgb(121, 110, 89); ">
            Let's Find Primes Upto a Number
        </h2>
        <input id="prime" type="number" name="prime" placeholder="x" onkeypress="call_primes(event)" />
        <button onclick="primes()">Find</button>
    </div>
    <div id="prime_container" style="margin:20px 0px 50px 0px;">
        <div id="prime_header">
        </div>
        <p id="prime_numbers" style="max-height:400px; overflow:auto"></p>
    </div>
    <footer style="position:fixed;left:0px;bottom:0px;width:100%;padding:2px 10px;background-color:darkgray;">
        <code><today></today><copyright style="float:right;margin-right:20px;">&copy; <year>2022</year> Naveen Bhati</copyright></code>
    </footer>
</body>
<script>
    var prime_num_storage = [2, 3, 5, 7];
    var highest_prime_input_storage = 10;
    var privious_prime_input_storage;

    function call_primes(event) {
        if (event.key == "Enter") { primes(); }
    }

    function primes() {
        var find_prime_from;
        var prime_num_count = 4;
        var prime_input = parseInt(document.getElementById("prime").value);
        if (prime_input <= 10) {
            var prime;
            if (prime_input == privious_prime_input_storage) {
                return;
            }
            privious_prime_input_storage = prime_input;
            switch (prime_input) {
                case 0:
                    prime = "";
                    prime_num_count = 0;
                    break;
                case 1:
                    prime = "";
                    prime_num_count = 0;
                    break;
                case 2:
                    prime = "2";
                    prime_num_count = 1;
                    break;
                case 3:
                    prime = "2 3";
                    prime_num_count = 2;
                    break;
                case 4:
                    prime = "2 3";
                    prime_num_count = 2;
                    break;
                case 5:
                    prime = "2 3 5";
                    prime_num_count = 3;
                    break;
                case 6:
                    prime = "2 3 5";
                    prime_num_count = 3;
                    break;
                case 7:
                    prime = "2 3 5 7";
                    prime_num_count = 4;
                    break;
                case 8:
                    prime = "2 3 5 7";
                    prime_num_count = 4;
                    break;
                case 9:
                    prime = "2 3 5 7";
                    prime_num_count = 4;
                    break;
                case 10:
                    prime = "2 3 5 7";
                    prime_num_count = 4;
                    break;
                default:
                    prime = "";
                    prime_num_count = 0;
                    break;
            }
            document.getElementById("prime_header").innerHTML =
                "<h3 id='total_primes'>" + "Total Primes:- " + prime_num_count + "</h3>";
            document.getElementById("prime_numbers").innerHTML = prime;
        }

        else if (prime_input > 10) {
            if (prime_input == highest_prime_input_storage && prime_input == privious_prime_input_storage) { return; }
            if (prime_input <= highest_prime_input_storage) {
                if (prime_input == privious_prime_input_storage) { return; }
                if (prime_input == highest_prime_input_storage) {
                    privious_prime_input_storage = prime_input;
                    document.getElementById("prime_header").innerHTML =
                        "<h3 id='total_primes'>" + "Total Primes:- " + prime_num_storage.length + "</h3>";
                    document.getElementById("prime_numbers").innerHTML = prime_num_storage.join(" ");
                    return;
                }
                var temporary_prime_num_string = "";
                privious_prime_input_storage = prime_input;
                var i;
                for (i = 0; i < prime_num_storage.length; i++) {
                    if (prime_num_storage[i] <= prime_input) {
                        temporary_prime_num_string += prime_num_storage[i] + " ";
                    } else { break; }
                }
                document.getElementById("prime_header").innerHTML =
                    "<h3 id='total_primes'>" + "Total Primes:- " + i + "</h3>";
                document.getElementById("prime_numbers").innerHTML = temporary_prime_num_string;
            }
            if (prime_input > highest_prime_input_storage) {
                find_prime_from = highest_prime_input_storage + 1;
                var temporary_prime_array = [];
                var x = find_prime_from;
                while (x <= prime_input) {
                    if (x % 2 != 0 && x % 3 != 0 && x % 5 != 0 && x % 7 != 0) {
                        prime_num_storage.push(x);
                        temporary_prime_array.push(x);
                        x++;
                        continue;
                    }
                    x++;
                }
                if (highest_prime_input_storage == 10 || privious_prime_input_storage < highest_prime_input_storage) {
                    highest_prime_input_storage = prime_input;
                    privious_prime_input_storage = prime_input;
                    document.getElementById("prime_header").innerHTML =
                        "<h3 id='total_primes'>" + "Total Primes:- " + prime_num_storage.length + "</h3>";
                    document.getElementById("prime_numbers").innerHTML = prime_num_storage.join(' ');

                }
                else {
                    highest_prime_input_storage = prime_input;
                    privious_prime_input_storage = prime_input;
                    document.getElementById("total_primes").innerHTML = "Total Primes:- " + prime_num_storage.length;
                    document.getElementById("prime_numbers").append(" " + temporary_prime_array.join(" "));
                }
            }
        }

        else if (prime_input != Number) {
            document.getElementById("prime_header").innerHTML =
                "<h3 id='total_primes' style='color:red;'>***Error***</h3>";
            document.getElementById("prime_numbers").innerHTML = "***please enter a Valid Number***";
            privious_prime_input_storage = null;
            alert("Invalid Input");
        }
    }

    function calulate() {
        var first = document.getElementById("first").value;
        var second = document.getElementById("second").value;
        var oprator = document.getElementById("option").value;

        if (oprator == "+") { var result = parseFloat(first) + parseFloat(second); }
        else if (oprator == "-") { var result = parseFloat(first) - parseFloat(second); }
        else if (oprator == "*") { var result = parseFloat(first) * parseFloat(second); }
        else if (oprator == "/") { var result = parseFloat(first) / parseFloat(second); }
        else if (oprator == "%") { var result = parseFloat(first) % parseFloat(second); }
        document.getElementById("result").value = result;
    }

    function footer() {
        var date = new Date();
        var month = date.getMonth();
        var today = date.getDate();
        var months_name =
            ["JANUARY", "FEBRUARY", "MARCH", "APRIL", "MAY", "JUNE", "JULY", "AUGUST", "SEPTEMBER", "OCTOBER", "NOVEMBER", "DECEMBER"]
        document.getElementsByTagName("year")[0].innerHTML = date.getFullYear();
        document.getElementsByTagName("today")[0].innerHTML =
            today + " " + months_name[month];
    }

    var total_images = 12;
    var current_image = 0;
    function image_change() {
        current_image++;
        var image_name = "images/" + current_image + ".jpg"
        document.getElementById("image").setAttribute("src", image_name);
        if (current_image == total_images) { current_image = 0; }
    }

    function greet() {
        var prompt_value = prompt("Your Name Please", "");
        if (prompt_value == null) {
            if (document.getElementsByClassName("greet_name")[0] == undefined) {
                prompt_value = "";
            }
            else { return; }
        }
        var greet_tag = "<span class='greet_name'><i><b>" + prompt_value + "</i></b></span>";
        var greet = "<span onclick='greet()' style='cursor:pointer;'>" + "Namaste " + greet_tag + "</span>";
        document.getElementsByClassName("greet")[0].innerHTML = greet;
    }
    greet();
</script>

</html>