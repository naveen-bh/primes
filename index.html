<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="author" content="name=Naveen Bhati">
    <meta name="keywords"
        content="primes, prime numbers, find prime, calculator, addition, subtraction, multiplication, division, module">
    <meta name="description"
        content="find prime numbers upto any given number QUICKLY!. Simple calculator. Interactive color changing background.">
    <title>Primes</title>
    <link rel="shortcut icon" href="images/icon.png" type="image/x-icon">
</head>

<body onload="footer(), image_change(), bg_color(), cursor()"
    style="font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif">
    <img src="images/icon.png" alt="bg-color" id="pop-image" onclick="bg_color()" title="click to change background"
        style="cursor:default; position: fixed;top: 60px;left: 15px;">

    <h1 class="greet" style="text-align: center; color: rgb(238, 161, 18); "></h1>
    <P style="text-align: center; color:#8d8d8d;">Welcome to My Website </P>
    <div style="text-align: center;">
        <img src="#" alt="no image" id="image" onclick="image_change()" title="click to change image"
            style="height: 200px; border-radius: 20%; cursor: default;">
    </div>
    <h2 style="text-align: center; color: rgb(121, 110, 89); ">
        Let's Calculate!
    </h2>
    <div class="calculator" style="text-align: center;">
        <input id="first" type="number" name="first" placeholder="x" title="enter first value"
            style="border-radius: 10px; border: 1px solid gray; padding: 2px 10px;" /><br /><br />
        <select id="option" title="choose oprator"
            style="border-radius: 10px; border: 1px solid gray; padding: 0px 5px;">
            <option value="+">+</option>
            <option value="-">-</option>
            <option value="*">*</option>
            <option value="/">/</option>
            <option value="%">%</option>
        </select><br /><br />
        <input id="second" type="number" name="second" placeholder="y" title="enter second value"
            style="border-radius: 10px; border: 1px solid gray; padding: 2px 10px;" /><br /><br />
        <button onclick="calulate()" title="click to find result"
            style="border-radius: 10px; border: 1px solid gray; padding: 2px 15px;">=</button>
        <br /><br />
        <input id="result" type="number" name="result" placeholder="result" readonly title="result, readonly!"
            style="border-radius: 10px; border: 1px solid gray; padding: 2px 10px;" /><br /><br />
    </div>
    <div class="prime" style="text-align: center">
        <h2 style="text-align: center; color: rgb(121, 110, 89); ">
            Let's Find Primes Upto a Number
        </h2>
        <input id="prime" type="number" name="prime" placeholder="x" onkeypress="call_primes(event)"
            title="input a number then press enter"
            style="border-radius: 10px; border: 1px solid gray; padding: 2px 10px;" />
        <button onclick="primes()" title="click to find primes"
            style="border-radius: 10px; border: 1px solid gray; padding: 2px 15px;">Find</button>
    </div>
    <div id="prime_container" style="margin:20px 0px 50px 0px; color:#796e59;">
        <div id="prime_header">
        </div>
        <p id="prime_numbers" style="max-height:400px; overflow:auto"></p>
    </div>
    <footer style="position:fixed;left:0px;bottom:0px;width:100%;padding:2px 10px;background-color:#bdbdbd;">
        <code><today></today><copyright style="float:right;margin-right:20px;">&copy; <year>2022</year> Naveen Bhati</copyright></code>
    </footer>
</body>
<script>
    var prime_num_storage = [2, 3, 5, 7];
    var highest_prime_input_storage = 10;
    var privious_prime_input_storage;
    function primes() {
        var find_prime_from;
        var prime_num_count = 4;
        var prime_input = parseInt(document.getElementById("prime").value);
        if (prime_input <= 10) {
            var prime;
            if (prime_input == privious_prime_input_storage) {
                return;
            }
            privious_prime_input_storage = prime_input;
            switch (prime_input) {
                case 0:
                    prime = "";
                    prime_num_count = 0;
                    break;
                case 1:
                    prime = "";
                    prime_num_count = 0;
                    break;
                case 2:
                    prime = "2";
                    prime_num_count = 1;
                    break;
                case 3:
                    prime = "2 3";
                    prime_num_count = 2;
                    break;
                case 4:
                    prime = "2 3";
                    prime_num_count = 2;
                    break;
                case 5:
                    prime = "2 3 5";
                    prime_num_count = 3;
                    break;
                case 6:
                    prime = "2 3 5";
                    prime_num_count = 3;
                    break;
                case 7:
                    prime = "2 3 5 7";
                    prime_num_count = 4;
                    break;
                case 8:
                    prime = "2 3 5 7";
                    prime_num_count = 4;
                    break;
                case 9:
                    prime = "2 3 5 7";
                    prime_num_count = 4;
                    break;
                case 10:
                    prime = "2 3 5 7";
                    prime_num_count = 4;
                    break;
                default:
                    prime = "";
                    prime_num_count = 0;
                    break;
            }
            document.getElementById("prime_header").innerHTML =
                "<h3 id='total_primes'>" + "Total Primes:- " + prime_num_count + "</h3>";
            document.getElementById("prime_numbers").innerHTML = prime;
        }

        else if (prime_input > 10) {
            if (prime_input == highest_prime_input_storage && prime_input == privious_prime_input_storage) { return; }
            if (prime_input <= highest_prime_input_storage) {
                if (prime_input == privious_prime_input_storage) { return; }
                if (prime_input == highest_prime_input_storage) {
                    privious_prime_input_storage = prime_input;
                    document.getElementById("prime_header").innerHTML =
                        "<h3 id='total_primes'>" + "Total Primes:- " + prime_num_storage.length + "</h3>";
                    document.getElementById("prime_numbers").innerHTML = prime_num_storage.join(" ");
                    return;
                }
                var temporary_prime_num_string = "";
                privious_prime_input_storage = prime_input;
                var i;
                for (i = 0; i < prime_num_storage.length; i++) {
                    if (prime_num_storage[i] <= prime_input) {
                        temporary_prime_num_string += prime_num_storage[i] + " ";
                    } else { break; }
                }
                document.getElementById("prime_header").innerHTML =
                    "<h3 id='total_primes'>" + "Total Primes:- " + i + "</h3>";
                document.getElementById("prime_numbers").innerHTML = temporary_prime_num_string;
            }
            if (prime_input > highest_prime_input_storage) {
                find_prime_from = highest_prime_input_storage + 1;
                var temporary_prime_array = [];
                var x = find_prime_from;
                while (x <= prime_input) {
                    if (x % 2 != 0 && x % 3 != 0 && x % 5 != 0 && x % 7 != 0) {
                        prime_num_storage.push(x);
                        temporary_prime_array.push(x);
                        x++;
                        continue;
                    }
                    x++;
                }
                if (highest_prime_input_storage == 10 || privious_prime_input_storage < highest_prime_input_storage) {
                    highest_prime_input_storage = prime_input;
                    privious_prime_input_storage = prime_input;
                    document.getElementById("prime_header").innerHTML =
                        "<h3 id='total_primes'>" + "Total Primes:- " + prime_num_storage.length + "</h3>";
                    document.getElementById("prime_numbers").innerHTML = prime_num_storage.join(' ');

                }
                else {
                    highest_prime_input_storage = prime_input;
                    privious_prime_input_storage = prime_input;
                    document.getElementById("total_primes").innerHTML = "Total Primes:- " + prime_num_storage.length;
                    document.getElementById("prime_numbers").append(" " + temporary_prime_array.join(" "));
                }
            }
        }

        else if (prime_input != Number) {
            document.getElementById("prime_header").innerHTML =
                "<h3 id='total_primes' style='color:red;'>***Error***</h3>";
            document.getElementById("prime_numbers").innerHTML = "***please enter a Valid Number***";
            privious_prime_input_storage = null;
            alert("Invalid Input");
        }
    }

    function call_primes(event) {
        if (event.key == "Enter") { primes(); }
    }

    function calulate() {
        var first = document.getElementById("first").value;
        var second = document.getElementById("second").value;
        var oprator = document.getElementById("option").value;

        if (oprator == "+") { var result = parseFloat(first) + parseFloat(second); }
        else if (oprator == "-") { var result = parseFloat(first) - parseFloat(second); }
        else if (oprator == "*") { var result = parseFloat(first) * parseFloat(second); }
        else if (oprator == "/") { var result = parseFloat(first) / parseFloat(second); }
        else if (oprator == "%") { var result = parseFloat(first) % parseFloat(second); }
        document.getElementById("result").value = result;
    }

    function footer() {
        var date = new Date();
        var month = date.getMonth();
        var today = date.getDate();
        var months_name =
            ["JANUARY", "FEBRUARY", "MARCH", "APRIL", "MAY", "JUNE", "JULY", "AUGUST", "SEPTEMBER", "OCTOBER", "NOVEMBER", "DECEMBER"]
        document.getElementsByTagName("year")[0].innerHTML = date.getFullYear();
        document.getElementsByTagName("today")[0].innerHTML =
            today + " " + months_name[month];
    }

    var total_images = 25;
    var current_image = 0;
    function image_change() {
        current_image++;
        var image_name = "images/" + current_image + ".jpg"
        document.getElementById("image").setAttribute("src", image_name);
        if (current_image == total_images) { current_image = 0; }
    }

    var color_list = ["#e6e6fa", "#000000", "#f0f8ff", "#b0e0e6", "#afeeee", "#98fb98", "#eee8aa", "#ffe4e1", "#ffe4b5", "#f5fffa", "#48d1cc", "#ffffe0", "#b0c4de", "#ffb6c1", "#d3d3d3", "#90ee90", "#fafad2", "#e0ffff", "#add8e6", "#fffacd", "#fff0f5", "#f0e68c", "#f0fff0", "#adff2f", "#ffd700", "#f8f8ff"];
    var current_bg_color_value = 0;
    function bg_color() {
        var color_value = color_list[current_bg_color_value]
        document.getElementsByTagName("body")[0].style.backgroundColor = color_value;
        current_bg_color_value++
        if (current_bg_color_value == color_list.length) { current_bg_color_value = 0; }
    }

    function cursor() {
        var screen_size = window.screen.width;
        if (screen_size > 900) {
            document.getElementById("pop-image").style.cursor = "pointer";
            document.getElementById("image").style.cursor = "pointer";
            document.getElementById("greet").style.cursor = "pointer";
        }
    }

    function greet() {
        var prompt_value = prompt("Your Name Please (max 10 character)", "").trim();
        if (prompt_value == null) {
            if (document.getElementsByClassName("greet_name")[0] == undefined) {
                prompt_value = "";
            }
            else { return; }
        }
        var greet_tag = "<span class='greet_name'><i><b>" + prompt_value.slice(0, 10) + "</i></b></span>";
        var greet = "<span onclick='greet()' id='greet' title='click to rename' style='cursor:default;'>" + "Namaste " + greet_tag + "</span>";
        document.getElementsByClassName("greet")[0].innerHTML = greet;
    }
    greet();
</script>

</html>